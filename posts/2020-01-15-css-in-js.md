---
layout: post
title:  "Figure Out CSS-in-JS Dependencies"
date: 2020-01-15
---

The codebase Iâ€™m now getting to know has a bunch of packages related to CSS-in-JS. I actually donâ€™t remember which of these, or maybe none?!, that Iâ€™ve dealt with in React apps in my old job. Iâ€™ve heard a lot _about_ these, but Iâ€™ve not got any relevant practical experience with any of them.

Iâ€™d heard mention from other developers working on the project, that they had changed libraries, and thereâ€™s still some refactoring to be done. But which, hmâ€¦ what? Iâ€™m confused.

| | |
| --- | --- |
| [Styled Components](https://styled-components.com/) ğŸ’… | This is the popular CSS-in-JS library written by @glenmaddern & @mxstbr (and others, but those are contributor names I know). |
| [Emotion](https://emotion.sh) ğŸ‘©â€ğŸ¤ | Another CSS-in-JS library similar to Styled Components, not quite as many repo stars but itâ€™s been around for 2 years and also widely used. |
| [Styled System](https://styled-system.com/) ğŸ“¦ | @jxnblkâ€™s â€œcollection of utility functions that add style props to your React componentsâ€, used with either Styled Components or Emotion |
| [xstyled](https://xstyled.dev/) ğŸ€ | An alternative to Styled System made by @gregberg |

Excellent! â˜ï¸ Thatâ€™s the tl;dr table I could make after reading and making notes ğŸ‘‡

---

## Styled Components ğŸ’…

> styled-components lets you write actual CSS in your JavaScript

Hm. As opposed to what, exactly? Right, I guess this refers to either writing separate `.css` stylesheet, or writing weird ass custom camelCased `marginBottom` and similar.

* [reactjs.org/docs/faq-styling](https://reactjs.org/docs/faq-styling.html)
* and more on [style under DOM elements](https://reactjs.org/docs/dom-elements.html#style)

> This unusual backtick syntax is a new JavaScript feature called a tagged template literal.

[MDN: tagged template literal](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates)

> styled-components utilises tagged template literals to style your components. It removes the mapping between components and styles. This means that when you're defining your styles, you're actually creating a normal React component, that has your styles attached to it.

Read though Max Stioberâ€™s post on [Writing your styles in JS â‰  writing inline styles](https://mxstbr.blog/2016/11/inline-styles-vs-css-in-js/)

Ok, so now Iâ€™m a bit more updated on the deal with the library I had heard most about before. But this isnâ€™t the one weâ€™re using. Weâ€™ve got a linter plugin carrying this name, but thatâ€™s all.

## Emotion ğŸ‘©â€ğŸ¤

> a library designed for writing css styles with JavaScript

Two ways of using Emotion:
* The framework agnostic emotion package: [npmjs.com/package/emotion](https://www.npmjs.com/package/emotion)
* The @emotion/core package for React: [npmjs.com/package/@emotion/core](https://www.npmjs.com/package/@emotion/core)

But, the docs say that the first â€œworks in situations where configuration is restricted or not possible such as with Create React Appâ€. And the latter is best with â€œa build environment that can be configured.â€ This project Iâ€™m working on is set up with core, so now I have questions about why the Emotion docs describe it this way. Which problems could arise?

Pre-release notes reveal that it will be renamed from @emotion/core to @emotion/react with v11.

> cx is emotionâ€™s version of the popular classnames library

* [emotion#cx](https://emotion.sh/docs/emotion#cx)
* [github.com/JedWatson/classnames](https://github.com/JedWatson/classnames) that I also saw mentioned on the reactjs docs

## Styled System ğŸ“¦

> To use Styled System, install a CSS-in-JS library such as Styled Components or Emotion.

* [styled-system.com](https://styled-system.com/)
* [github.com/styled-system/styled-system](https://github.com/styled-system/styled-system)

> Styled System is a collection of utility functions that add style props to your React components and allows you to control styles based on a global theme object with typographic scales, colors, and layout properties.

## xstyled ğŸ€

* [xstyled.dev/docs/motivation/](https://xstyled.dev/docs/motivation/)
* [github.com/smooth-code/xstyled](https://github.com/smooth-code/xstyled)

* @xstyled/system ğŸ‘‰ exposes core utilities, similar to styled-system, works with emotion ( or styled-components)
* @xstyled/styled-components ğŸ‘‰ a wrapper around styled-components to enable the system directly in the CSS syntax

My project is set up to [Use with Emotion](https://xstyled.dev/docs/emotion/), so the install instructions are to install:

| | |
| --- | --- |
| @xstyled/emotion | âœ… devDependency |
| @emotion/core | hm? ğŸ§ oh, looks like this went MIA some months back, that explains some errors Iâ€™ve been seeing, yay! |
| @emotion/styled | âœ… devDependency |
| emotion-theming | hm, I removed this earlier this week, Iâ€™ll put it backâ€¦ ğŸ˜œ |

---

Now I know whatâ€™s what. I understand that the intention is to use xstyled with Emotion. Iâ€™ve updated all the dependencies, added some that were missing, and Iâ€™m way less confused than this morning.
